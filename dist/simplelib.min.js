// simplelib
// version: 0.4.0
// update: 2018.04.28

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).simplelib=t()}}(function(){return function u(o,s,a){function c(e,t){if(!s[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(f)return f(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[e]={exports:{}};o[e][0].call(i.exports,function(t){return c(o[e][1][t]||t)},i,i.exports,u,o,s,a)}return s[e].exports}for(var f="function"==typeof require&&require,t=0;t<a.length;t++)c(a[t]);return c}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var u=this,n=u.util.noop,r=u.util.noop,i=function(i){return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=i.apply(null,e);return r||e}},o={type:"GET",data:null,dataType:"json",url:"",async:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}};Object.defineProperties(o,{success:{set:function(t){var e=u.util.isFunction(t)?t:u.util.noop;n=i(e)},get:function(){return n}},fail:{set:function(t){var e=u.util.isFunction(t)?t:u.util.noop;r=i(e)},get:function(){return r}}}),o=u.util.merge(o,t);var s=null;return new Promise(function(e,n){if(o.url){!(i=new XMLHttpRequest)&&window.XDomainRequest&&(i=new XDomainRequest),s=i||null;var t=!o.hasOwnProperty("async")||o.async;for(var r in s.open(o.type,o.url,t),o.headers)s.setRequestHeader(r,o.headers[r]);s.onreadystatechange=function(t){4==s.readyState&&(200==s.status?e([function(t){if(!s)return null;switch(t||o.dataType){case"json":return u.util.isJSON(s.responseText)?JSON.parse(s.responseText):s.responseText;case"xml":return s.responseXML;default:return s.responseText}}(),s]):n([s]))},s.send(o.data||null)}else n();var i}).then(o.success).catch(o.fail)}},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i,u,o,s,a,c;n.bInfo=(r=navigator.userAgent.toLowerCase(),i=/msie [6-8]/.test(r),u=/msie 9/.test(r),o=/msie 10/.test(r),s=/(trident\/)(rv:11)/.test(r),a=/chrome\//.test(r)&&/safari\//.test(r),c=!a&&/opr\/|opera\//.test(r),{isChrome:a,isSafari:!c&&!a&&/safari/.test(r),isIE11:s,isIE10:o,isIE9:u,isOpera:c,isFirefox:/firefox/.test(r),isWhale:/whale/.test(r),ieMore:i,ios:/iphone|ipad/.test(r)})},{}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e,n){var u=this;t=this.util.isArray(t)?t:Array(t);var r=Array(),i=Array(),o=this.util.isFunction(e)&&e||this.util.noop,s=function(e){var t,n,r,i;e.url&&u.util.createElement({dom:"script",attr:{src:(t=e.url,n=!1,r=t,i=/\?/.test(t),r+=n?"":(i?"&":"?")+"t="+u.util.dateFormat(new Date,"yyyymmddss")),charset:"utf-8",type:"text/javascript"},event:{load:function(t){e.complete=!0},error:function(t){throw new Error(e.url+" : script loading error")}},parent:document.head})};t.forEach(function(t,e){i.push(!1),r.push(u.util.object({index:e,url:t},{complete:{set:function(t){i[this.index]=t,-1===i.indexOf(!1)&&o()}}}))}),r.forEach(function(t,e){s(t)})}},{}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();n.default=function(t){var r=this;var i=new(function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.data=[],this.push(t),this.filter=e}return a(n,[{key:"push",value:function(t){var e=function(t){var e=[];r.util.isArray(t)?e=e.concat(t):r.util.isJSON(t)?e=e.concat([t]):r.util.isFunction(t)&&(e=[{func:t}]);return e}(t);this.filter&&(e=this.filter(e)),this.data=this.data.concat(e)}},{key:"pop",value:function(){if(0!=this.length)return this.data.shift()}},{key:"length",get:function(){return this.data.length}},{key:"isEmpty",get:function(){return 0===this.length}}]),n}())(t.tasks,function(t){return t.filter(function(t){return"func"in t})}),u=!1,o=window.Promise&&r.util.isNative(Promise);var s=function(t,e,n){return function(){t.apply(e,r.util.isArray(n)?n:[n])}},e=function(t){if(i.isEmpty)u=!1;else for(var e,n;;){if(!(e=i.pop()))return void(u=!1);r.util.isFunction(e.func)&&(n=r.util.isArray(e.argv)?e.argv:[e.argv],o?t&&t.then(s(e.func,e.object||null,n)):s(e.func,e.object||null,n)())}},n=r.util.object({async:!1!==t.async,add:function(t){return i.push(t),this},run:function(t){return t&&i.push(t),u||(this.async?(u=!0,o?e((r=100,new Promise(function(t,e){var n=setTimeout(function(){clearTimeout(n),t()},r)}))):setTimeout(e,10)):e()),this;var r}});return Object.defineProperty(n,"queue",{set:function(t){i.add(t)},get:function(){return i.data}}),Object.freeze(n),n}},{}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./version"),i=t("./binfo"),u=t("./util"),o=f(u),s=f(t("./runtask")),a=f(t("./loader")),c=f(t("./ajax"));function f(t){return t&&t.__esModule?t:{default:t}}var l={date:{week:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}},d=function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.locale=o.default.merge(e.locale||{},l),this.option=o.default.merge({},e),this.util=(0,u.set)(this),this.bInfo=i.bInfo,this.version=r.Version};o.default.proto(d,{ajax:c.default,runtask:s.default,loader:a.default}),n.default=d,e&&(e.exports=d)},{"./ajax":1,"./binfo":2,"./loader":3,"./runtask":4,"./util":6,"./version":7}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.set=function(t){return r.call(t)};var r=function(){var h=this,v=Object.prototype.toString,e=JSON.constructor,u=function(){},l=function(t){return Array.isArray(t)},d=function(t){return!!t&&(!!t.constructor&&(t.constructor.name?"Object"===t.constructor.name:"[object Object]"===v.call(t)))},r=function(t){return o(t)&&/native code/.test(t)},o=function(t){return"function"==typeof t},i=function(t){return"string"==typeof t},s=function(t){return"[object Null]"===v.call(t)},a=function(t){return void 0===t},m=function(t){return s(t)||a(t)||""===t||0===t||!t},c=function(t){return!!t&&t.constructor===e},p=function(t){if(m(t)||!d(t))return!1;var e=Object.getPrototypeOf(t);if(!e)return c(t);var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return o(n)&&r(n.toLocaleString())},f=function(t,e){if(!d(e))return t;for(var n in e)t.style[n]=e[n]},y=function(t,e,n){var r=!!t.addEventListener;if(t&&e)for(var i in e)o(e[i])&&(r?t.addEventListener(i,e[i]||u,n||!1):t.attachEvent("on"+i,e[i]||u))},g=function t(e,n){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!n)return e;for(var i=l(n)?[]:{},u=d(e)?e:i,o=Object.keys(n),s="",a=0;a<o.length;a++)if(s=o[a],!r&&s.substr(0,r.length)!==r){var c=n[s],f=l(c)?[]:!!p(c)&&{};u[s]=f?t(f,c,r):c}return u},b=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=t;return n.forEach(function(t,e){!m(n)&&(i=g(i,t))}),i||{}};return{isObject:d,isNative:r,isArray:l,isFunction:o,isString:i,isNull:s,isUndefined:a,isDom:function(t){return t&&!!t.nodeName},isFalse:m,isJSON:c,isJsonString:function(t){try{return JSON.parse(t)&&!!t}catch(t){return!1}},isPlain:p,trim:function(t){return t.replace(/^[\s]+|[\s]+$/g,"")},dateFormat:function(t,e,n,r){if(m(t))return"";if("[object Date]"!==v.call(t))return"";var i=t.getFullYear(),u=t.getMonth()+1,o=t.getDate(),s=t.getDay(),a=t.getHours(),c=t.getMinutes(),f=t.getSeconds(),l=-t.getTimezoneOffset()/60,d=a,p=12<a?Math.ceil(a/12):a,y=12<a?"PM":"AM";return e.replace(/(yyyy|yy|mm|dd|m|d|hh|nn|ss|h|n|s|w|z)/gi,function(t){switch(t){case"yyyy":return i;case"yy":return(""+i).substr(-2);case"mm":return("0"+u).substr(-2);case"dd":return("0"+s).substr(-2);case"m":return u;case"d":return o;case"hh":return(n?y+" ":"")+("0"+(n?p:d)).substr(-2);case"nn":return("0"+c).substr(-2);case"ss":return("0"+f).substr(-2);case"h":return a;case"n":return c;case"ss":return("0"+f).substr(-2);case"s":return f;case"w":return h&&h.option.locale.date.week[s]||"";case"z":return(0<l?"+":"-")+l}})},strPattern:function(n,t){i(n)&&(t=n,n=this||{});return t.replace(/{{@([a-zA-Z0-9_@\. \*\^\$\#-]*)}}/g,function(t,e){return s(n[e])||a(n[e])?"":n[e]})},getbyId:function(t){return(this&&this.getElementById?this:document).getElementById(t)},getbyClassName:function(t){return Array.prototype.slice.call((this&&this.getElementsByClassName?this:document).getElementsByClassName(t))},getbyTagName:function(t){return Array.prototype.slice.call((this&&this.getElementsByTagName?this:document).getElementsByTagName(t))},getbyName:function(t){return Array.prototype.slice.call((this&&this.getElementsByName?this:document).getElementsByName(t))},query:function(t){return(this&&this.querySelector?this:document).querySelector(t)},queryall:function(t){var e=(this&&this.querySelectorAll?this:document).querySelectorAll(t);return l(e)?e:Array.prototype.slice.call(e)},style:f,createElement:function(t,e){if(!t.dom)return null;var n=document.createElement(t.dom);for(var r in t.attr)n.setAttribute(r,t.attr[r]);return f(n,t.style),y(n,function(t){var e={};for(var n in t)o(t[n])&&(e[n]=t[n]);return e}(t.event)),t.child?n.appendChild(t.child):t.html?n.innerHTML=t.html:t.text&&(n.textContent=t.text),t.parent&&t.parent.appendChild(n),n},getComputedStyle:function(t,e){if(t){var n=window.getComputedStyle(t);if(n)return e?n[e]:n}},addEvent:y,removeEvent:function(t,e){var n=!!t.removeEventListener;if(t&&e)for(var r in e)o(e[r])&&(n?t.removeEventListener(r,e[r]||u):t.dettachEvent("on"+r,e[r]||u))},trigger:function(t,e){var n;t.dispatchEvent?t.dispatchEvent((n=void 0,o(Event)?n=new Event(e,{bubbles:!0,cancelBubble:!0,cancelable:!0}):(n=document.createEvent("Event"),event.initEvent(e,!0,!0)),n)):t.fireEvent("on"+e)},copy:g,merge:b,delPrefixMerge:function(t,n){for(var e=arguments.length,r=Array(2<e?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];var u=t;return r.forEach(function(t,e){!m(r)&&(u=g(u,t,n))}),u||{}},object:function(t,e,n){return Object.create(b({},95,t,n),e)},delay:function(r){new Promise(function(t,e){var n=setTimeout(function(){clearTimeout(n),t()},r)})},proto:function(n,r){return n&&c(r)&&Object.keys(r).forEach(function(t,e){n.prototype?n.prototype[t]=r[t]:n[t]=r[t]}),n},noop:u}};n.default=r()},{}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.Version="0.4.0"},{}]},{},[5])(5)});
//# sourceMappingURL=simplelib.min.js.map